{"version":3,"file":"preview-373f788f.js","sources":["../../../node_modules/storybook-msw-addon/dist/preview.mjs"],"sourcesContent":["import { addons, useChannel } from '@storybook/preview-api';\nimport { FORCE_REMOUNT, STORY_ARGS_UPDATED, STORY_CHANGED } from '@storybook/core-events';\nimport { rest } from 'msw';\n\nvar l=\"storybook/msw-vite-addon\",T=\"msw\",r={SEND:`${l}/send`,UPDATE:`${l}/update`,UPDATE_RESPONSES:`${l}/update-responses`,RESET:`${l}/reset`};var i=addons.getChannel(),A=!0,S=!1,u=0,E=200,t={},D,h=(a,e,s)=>a[e]||s,c=a=>{if(!a||!t)return;let e=window.msw;a?.forEach(s=>{let o=t[s.info.path];E=o.status,e.use(rest.get(s.info.path,(d,p,n)=>p(n.status(o.status),n.delay(u),n.json(o.data))));});},P=(a,e)=>{let s,o,d,p=window.msw;s=e.parameters,s&&(o=h(s,T,[]));let n=useChannel({[r.UPDATE]:({key:R,value:m})=>{R===\"delay\"&&(clearTimeout(D),u=m,c(d),D=setTimeout(()=>{i.emit(FORCE_REMOUNT,{storyId:e.id});},300)),R===\"status\"&&(E=m,Object.keys(t).forEach(w=>{t[w].status=m;}),c(d),i.emit(FORCE_REMOUNT,{storyId:e.id}));let f={delay:u,status:E,responses:t};n(r.SEND,f);},[r.UPDATE_RESPONSES]:({key:R,objectKey:m,objectValue:f})=>{if(R===\"responses\"){t[m].data=f;let w={delay:u,status:E,responses:t};c(d),n(r.SEND,w),i.emit(FORCE_REMOUNT,{storyId:e.id});}},[r.RESET]:()=>{delete window.msw.originalResponses,p.stop(),location.reload();}});return !o||!p?(n(r.SEND,{status:void 0,delay:void 0,responses:void 0}),a()):(A&&(d=o.handlers,t=o.originalResponses,c(d),n(r.SEND,{status:E,delay:u,responses:t}),i.on(STORY_ARGS_UPDATED,()=>{e.viewMode!==\"docs\"&&(delete window.msw.originalResponses,location.reload());}),i.on(STORY_CHANGED,()=>{delete window.msw.originalResponses,p.stop(),S=!0,location.reload();}),A=!1,i.emit(FORCE_REMOUNT,{storyId:e.id})),S&&(S=!1,i.emit(FORCE_REMOUNT,{storyId:e.id})),a())};var I={decorators:[P]},F=I;\n\nexport { F as default };\n//# sourceMappingURL=out.js.map\n//# sourceMappingURL=preview.mjs.map"],"names":["addons","useChannel","FORCE_REMOUNT","STORY_ARGS_UPDATED","STORY_CHANGED","l","T","r","i","A","S","E","a","s","c","o","rest","d","p","n","P","R","m","w","f","I","F"],"mappings":"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","x_google_ignoreList":[0]}